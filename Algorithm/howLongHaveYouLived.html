<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>How many days you lived</title>
</head>
<style>
    #box{
        background-color: rgb(157, 204, 248);
        border: 1px solid rgb(0, 56, 109);
        border-radius: 5px;
        padding: 10px;
    }
</style>
<body>
        <div id="box">
            <h1>How many days you lived?</h1>
            <div>Tell me your birthday</div>
            <div>Year: </div> <input type="text" id ="birthdayYear">
            <div>Month: </div> <input type="text" id="birthdayMonth">
            <div>Date: </div> <input type="text" id="birthdayDate">
            <button onclick="showdays()">Show me</button>
            <h1 id="output"> </h1>
            <br>
            
        </div><br>

        <img src="Flowcharts/How many days you lived flowcharts.png">
    
    <script>
        function showdays(){
            //start

            //input
            var birthdayYear = parseInt(document.getElementById("birthdayYear").value);
            var birthdayMonth = parseInt(document.getElementById("birthdayMonth").value);
            var birthdayDate = parseInt(document.getElementById("birthdayDate").value);
            var birthdayWeekDay = 0;
            var birthdayWeekDayString = "";
            var totalDay = 0;

            var monthOfyear = 12;
            var y = birthdayYear;
            var m = birthdayMonth;
            var Today = new Date();
            
            var toDayYear = Today.getFullYear();
            var toDayMonth = Today.getMonth();
            var toDayDate = Today.getDate();
            var toDayWeekday = Today.getDay();
            
            //decision
            for(; y <= toDayYear; y++){

                //decision
                if(y == toDayYear){
                    // if y is toDayYear so only calculate until today's month
                    // less a month because that month haven't finish
                    // javascript "Date.getMonth()" function already less a month
                    //process
                    monthOfyear = toDayMonth;
                }

                //decision
                for(; m <= monthOfyear; m++){

                    //decision
                    switch (m){
                        case 1:
                        case 3:
                        case 5:
                        case 7:
                        case 8:
                        case 10:
                        case 12:
                            //process
                            totalDay += 31;
                            break;

                        case 4:
                        case 6:
                        case 9:
                        case 11:
                            //process
                            totalDay += 30;
                            break;
                        
                        case 2:
                            // this part for decide is leap year or not
                            // if is leap year February will have 29 days
                            // if isn't leap year February will have 28 days

                            // if((y%4 == 0 && y%100 != 0)|| y%400 == 0){
                            //     //is leap year
                            // }
                            // else{
                            //     //isn't leap year
                            // }

                            //decision
                            if(y%4 == 0){
                                //decision
                                if(y%100 == 0){
                                    //decision
                                    if(y%400 == 0){
                                        //process
                                        totalDay+=29;
                                    }
                                    else{
                                        //process
                                        totalDay += 28;
                                    }
                                }
                                else{
                                    //process
                                    totalDay+=29;
                                }
                            }
                            else{
                                //process
                                totalDay += 28;
                            }
                            break;

                        default:
                    }
                }
                //process
                m = 1;
            }

            //process
            totalDay += toDayDate;
            // totalDay minus your birthdayDath because last part include your birthdayMonth's days
            totalDay -= birthdayDate;
            birthdayWeekDay = (toDayWeekday + ( 7 - (totalDay%7)))%7;

            // Weekday number convert to weekday string
            //decision
            switch (birthdayWeekDay){
                case 0:
                    //process
                    birthdayWeekDayString="sunday";
                    break;
                case 1:
                    //process
                    birthdayWeekDayString="monday";
                    break;
                case 2:
                    //process
                    birthdayWeekDayString="tuesday";
                    break;
                case 3:
                    //process
                    birthdayWeekDayString="wednesday";
                    break;
                case 4:
                    //process
                    birthdayWeekDayString="thursday";
                    break;
                case 5:
                    //process
                    birthdayWeekDayString="friday";
                    break;
                case 6:
                    //process
                    birthdayWeekDayString="saturday";
                    break;
                default:
            }

            //output
            document.getElementById("output").innerHTML = "You live "+totalDay+" days. Your birthday is on " + birthdayWeekDayString+".";

            //end
        }
    </script>
</body>
</html>